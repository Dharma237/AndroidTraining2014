package com.pcs.swipelistviewactivity;

import android.view.MotionEvent;
import android.view.GestureDetector.SimpleOnGestureListener;

public class MyGestureDetector extends SimpleOnGestureListener{

	private int temp_position=1;

	public boolean onSingleTapUp(MotionEvent e)
	{

		int item_position = listview.pointToPosition((int)e.getX(), (int)e.getY());
		myOnItemClick(item_position);

		return true;

	}

	public boolean onDown(MotionEvent e)
	{

		temp_position = listview.pointToPosition((int)e.getX(), (int)e.getY());
		return super.onDown(e);
	}

	public boolean onFling(MotionEvent e1, MotionEvent e2, float VelocityX, float VelocityY)
	{

		if(Math.abs(e1.getY()-e2.getY()) > REL_SWIPE_MAX_OFF_PATH)
			return true;

		if(e1.getX() - e2.getX() > REL_SWIPE_MIN_DISTANCE && Math.abs(VelocityX)>REL_SWIPE_THRESOLD_VELOCITY)
		{
			int pos = listview.pointToPosition((int) e1.getX(), (int)e2.getY());
			if(pos>0 && temp_position==pos)
			{
				getSwipeItem(false, pos);
			}
		}
		
		
		else if(e2.getX() - e1.getX() > REL_SWIPE_MIN_DISTANCE
				&& Math.abs(VelocityX) > REL_SWIPE_THRESOLD_VELOCITY)
		{
			int pos = listview.pointToPosition((int) e1.getX(), (int) e2.getY());
					if (pos >= 0 && temp_position == pos)
					getSwipeItem(true, pos);
		}
			return false;
	}
}
